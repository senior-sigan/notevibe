# Руководство по роутингу VibeNotes

## Обзор

Приложение VibeNotes теперь поддерживает роутинг между разными страницами с использованием TanStack Router.

## Доступные страницы

### 1. Главная страница (`/`)
- **Описание**: Отображает все публичные заметки всех пользователей
- **Доступ**: Для всех пользователей
- **Компонент**: `PublicNotesPage`
- **Функциональность**: 
  - Просмотр публичных заметок
  - Создание новых заметок (если пользователь авторизован)

### 2. Мои заметки (`/my-notes`)
- **Описание**: Отображает только заметки текущего пользователя (публичные и приватные)
- **Доступ**: Только для авторизованных пользователей
- **Компонент**: `MyNotesPage`
- **Функциональность**:
  - Просмотр личных заметок
  - Создание новых заметок
  - Отображение статуса заметки (публичная/приватная)

## Навигация

### Сайдбар
Сайдбар содержит ссылки на все доступные страницы:
- **Главная** - переход на главную страницу с публичными заметками
- **Мои заметки** - переход на страницу личных заметок (видна только авторизованным пользователям)
- **Публичные заметки** - дублирует ссылку на главную страницу

### Программная навигация
Для программной навигации используйте компонент `Link` из TanStack Router:

```tsx
import { Link } from '@tanstack/react-router';

// Переход на главную страницу
<Link to="/">Главная</Link>

// Переход на страницу "Мои заметки"
<Link to="/my-notes">Мои заметки</Link>
```

## Структура компонентов

### Страницы
- `PublicNotesPage` - главная страница с публичными заметками
- `MyNotesPage` - страница с пользовательскими заметками

### Списки заметок
- `NotesList` - компонент для отображения публичных заметок
- `MyNotesList` - компонент для отображения пользовательских заметок

### Карточки заметок
- `NoteCard` - универсальный компонент для отображения заметки
  - Показывает статус заметки (публичная/приватная)
  - Отображает дату создания
  - Имеет красивую анимацию при наведении

## API Endpoints

### Публичные заметки
- `GET /notes/public` - получение всех публичных заметок

### Пользовательские заметки
- `GET /notes/my` - получение заметок текущего пользователя

## Особенности реализации

### Верстка
- Все страницы используют абсолютно идентичную верстку
- Сохранен единый дизайн и стили
- Адаптивная верстка для всех устройств

### Состояние
- Используется React Query для кэширования данных
- Автоматическое обновление при изменении данных
- Обработка состояний загрузки и ошибок

### Аутентификация
- Страница "Мои заметки" доступна только авторизованным пользователям
- Автоматическое перенаправление при попытке доступа без авторизации

## Тестирование

Для тестирования функциональности:

1. **Без авторизации**:
   - Перейдите на главную страницу
   - Убедитесь, что видите только публичные заметки
   - Проверьте, что ссылка "Мои заметки" не видна

2. **С авторизацией**:
   - Войдите в систему
   - Перейдите на страницу "Мои заметки"
   - Убедитесь, что видите только свои заметки
   - Проверьте, что отображается статус заметок (публичная/приватная)

## Моковые данные

Для демонстрации используются моковые данные:
- Пользователь с ID 1 имеет 4 заметки (3 публичные, 1 приватная)
- Другие пользователи имеют по 1 публичной заметке
- Все заметки имеют реалистичный контент и даты

## Структура файлов

### Основные файлы
- `main.tsx` - точка входа приложения, содержит всю логику роутинга
- `App.tsx` - упрощенный файл (оставлен для обратной совместимости)

### Компоненты страниц
- `PublicNotesPage.tsx` - главная страница с публичными заметками
- `MyNotesPage.tsx` - страница с пользовательскими заметками

### Компоненты списков
- `NotesList.tsx` - список публичных заметок
- `MyNotesList.tsx` - список пользовательских заметок

## Расширение функциональности

Для добавления новых страниц:

1. Создайте компонент страницы
2. Добавьте новый роут в `main.tsx`
3. Добавьте ссылку в сайдбар (если необходимо)
4. Обновите типы TypeScript при необходимости
